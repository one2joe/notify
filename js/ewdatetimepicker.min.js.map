{"version":3,"sources":["js\\ewdatetimepicker.js"],"names":["ew","dateTimePickerOptions","keepInvalid","localization","dayViewHeaderFormat","month","year","createDateTimePicker","formid","id","options","includes","$","jQuery","el","getElement","sv","$input","namespace","tempusDominus","Namespace","NAME","dataKey","data","parent","deepAssign","inputGroup","isBoolean","args","form","enabled","document","trigger","$textbox","isInvalid","hasClass","attr","$btn","on","removeClass","addClass","wrap","after","tooltip","e","date","val"],"mappings":";;;;AAMAA,GAAGC,sBAAwB,CACvBC,aAAa,EACbC,aAAc,CACVC,oBAAqB,CAAEC,MAAO,OAAQC,KAAM,aAKpDN,GAAGO,qBAAuB,SAASC,EAAQC,EAAIC,GAC3C,IAAID,EAAGE,SAAS,cAAhB,CAEA,IAAIC,EAAIC,OACJC,EAAKd,GAAGe,WAAWN,EAAID,GACvBQ,EAAKhB,GAAGe,WAAW,MAAQN,EAAID,GAC/BS,EAASL,EAAEI,GAAMF,GACjBI,EAAYC,cAAcC,UAAUC,KACpCC,EAAUH,cAAcC,UAAUE,QACtC,GAAKR,IAAMG,EAAOM,KAAKD,KAAYL,EAAOO,SAASD,KAAKD,GAAxD,CAEAZ,EAAUV,GAAGyB,WAAW,GAAIzB,GAAGC,sBAAuBS,GACtD,IAAIgB,GAAad,EAAEe,UAAUjB,EAAQgB,aAAchB,EAAQgB,kBACpDhB,EAAkB,WAEzB,IAAIkB,EAAO,CAACnB,GAAMA,EAAIoB,KAAQrB,EAAQsB,SAAW,EAAMJ,WAAcA,EAAYhB,QAAWA,GAE5F,GADAE,EAAEmB,UAAUC,QAAQ,iBAAkB,CAACJ,IAClCA,EAAKE,QAAV,CAEA,IAAwB,IAApBF,EAAKF,WAAsB,CAK3B,IAAIO,EAAWhB,EACXiB,EAAYjB,EAAOkB,SAAS,cAC5B1B,EAAK,kBAAoBD,EAAS,IAAMS,EAAOmB,KAAK,MACpDC,KAAOzB,EAAE,8FACJ0B,GAAG,SAAWhB,GAAS,WACpBW,EAASM,YAAY,iBAEjCtB,EAAOuB,SAAStB,EAAY,UAAUkB,KAAK,cAAe,IAAM3B,GAC3DgC,KAAK,0BAA0BP,EAAY,cAAgB,WAAWzB,yEACtEiC,MAAML,KAAKD,KAAK,cAAe,IAAM3B,GAAI2B,KAAK,iBAAkB,mBAChEE,GAAG,SAAWhB,GAAS,WACpBW,EAASU,QAAQ,QAAQA,QAAQ,cAClCL,GAAG,QAAUhB,GAAS,WACrBW,EAASU,QAAQ,aAEzB1B,EAASA,EAAOO,SAASc,GAAG,UAAYhB,GAAS,SAASsB,GAClDA,EAAEC,MACFZ,EAASD,QAAQ,kBAIzBf,EAAOuB,SAASlB,EAAU,UAAUc,KAAK,iBAAkB,kBAAkBA,KAAK,cAAe,IAAMnB,EAAOmB,KAAK,OAC9GE,GAAG,UAAYhB,GAAS,SAASsB,GAC1BA,EAAEC,MAAQ5B,EAAO,KAAOH,GACxBF,EAAEE,GAAIgC,IAAI7B,EAAO6B,OAAOd,QAAQ,aACrCM,GAAG,SAAWhB,GAAS,WACtBL,EAAO0B,QAAQ,QAAQA,QAAQ,cAChCL,GAAG,QAAUhB,GAAS,WACrBL,EAAO0B,QAAQ,aAG3B1B,EAAOE,cAAcS,EAAKlB","sourcesContent":["/**\r\n * Create Date/Time Picker (for PHPMaker 2022)\r\n * @license Copyright (c) e.World Technology Limited. All rights reserved.\r\n */\r\n\r\n// Global options\r\new.dateTimePickerOptions = {\r\n    keepInvalid: true,\r\n    localization: {\r\n        dayViewHeaderFormat: { month: \"long\", year: \"numeric\" }\r\n    }\r\n};\r\n\r\n// Create date/time picker\r\new.createDateTimePicker = function(formid, id, options) {\r\n    if (id.includes(\"$rowindex$\"))\r\n        return;\r\n    var $ = jQuery,\r\n        el = ew.getElement(id, formid),\r\n        sv = ew.getElement(\"sv_\" + id, formid), // AutoSuggest\r\n        $input = $(sv || el),\r\n        namespace = tempusDominus.Namespace.NAME,\r\n        dataKey = tempusDominus.Namespace.dataKey;\r\n    if (!el || $input.data(dataKey) || $input.parent().data(dataKey))\r\n        return;\r\n    options = ew.deepAssign({}, ew.dateTimePickerOptions, options);\r\n    var inputGroup = $.isBoolean(options.inputGroup) ? options.inputGroup : true;\r\n    delete(options.inputGroup);\r\n    // options.debug = options.debug || ew.DEBUG;\r\n    var args = {\"id\": id, \"form\": formid, \"enabled\": true, \"inputGroup\": inputGroup, \"options\": options};\r\n    $(document).trigger(\"datetimepicker\", [args]);\r\n    if (!args.enabled)\r\n        return;\r\n    if (args.inputGroup !== false) {\r\n        // <div class=\"input-group date\" id=\"{id}\" data-td-target-input=\"nearest\" data-td-target-toggle=\"nearest\">\r\n        // \t<input type=\"text\" class=\"form-control td-input\" data-target=\"#{id}\"/>\r\n        // \t<button class=\"btn btn-default\" type=\"button\" data-target=\"#{id}\" data-td-toggle=\"datetimepicker\"><i class=\"far fa-calendar-alt\"></i></button>\r\n        // </div>\r\n        var $textbox = $input,\r\n            isInvalid = $input.hasClass(\"is-invalid\"),\r\n            id = \"datetimepicker_\" + formid + \"_\" + $input.attr(\"id\");\r\n            $btn = $('<button class=\"btn btn-default\" type=\"button\"><i class=\"far fa-calendar-alt\"></i></button>')\r\n                .on(\"click.\" + dataKey, function() {\r\n                    $textbox.removeClass(\"is-invalid\");\r\n                });\r\n        $input.addClass(namespace + \"-input\").attr(\"data-target\", \"#\" + id)\r\n            .wrap(`<div class=\"input-group${isInvalid ? \" is-invalid\" : \"\"}\" id=\"${id}\" data-target-input=\"nearest\" data-td-target-toggle=\"nearest\"></div>`)\r\n            .after($btn.attr(\"data-target\", \"#\" + id).attr(`data-td-toggle`, \"datetimepicker\"))\r\n            .on(\"focus.\" + dataKey, function() {\r\n                $textbox.tooltip(\"hide\").tooltip(\"disable\");\r\n            }).on(\"blur.\" + dataKey, function() {\r\n                $textbox.tooltip(\"enable\");\r\n            });\r\n        $input = $input.parent().on(\"change.\" + dataKey, function(e) {\r\n            if (e.date)\r\n                $textbox.trigger(\"change\");\r\n        });\r\n    } else {\r\n        // <input type=\"text\" class=\"form-control td-input\" id=\"{id}\" data-td-toggle=\"datetimepicker\" data-target=\"#{id}\"/>\r\n        $input.addClass(dataKey + \"-input\").attr(`data-td-toggle`, \"datetimepicker\").attr(\"data-target\", \"#\" + $input.attr(\"id\"))\r\n            .on(\"change.\" + dataKey, function(e) {\r\n                if (e.date && $input[0] !== el)\r\n                    $(el).val($input.val()).trigger(\"change\");\r\n            }).on(\"focus.\" + dataKey, function() {\r\n                $input.tooltip(\"hide\").tooltip(\"disable\");\r\n            }).on(\"blur.\" + dataKey, function() {\r\n                $input.tooltip(\"enable\");\r\n            });\r\n    }\r\n    $input.tempusDominus(args.options);\r\n}\r\n"]}